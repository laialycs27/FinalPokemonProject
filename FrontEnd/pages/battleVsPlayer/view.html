<header class="topbar">
  <div class="left">
    <button id="navToggle" class="icon-btn" aria-label="Open menu" aria-expanded="false" aria-controls="sidenav">☰</button>
    <h1 class="app-title">Arena · Random PvP</h1>
  </div>

  <div class="userbox">
    <span id="userLabel" class="user-label" aria-live="polite"></span>
    <button id="logout" class="btn">Logout</button>
  </div>
</header>

<!-- Collapsible side nav -->
<aside id="sidenav" class="sidenav" aria-hidden="true">
  <div class="sidenav-header">
    <span class="sidenav-title">Menu</span>
    <button id="navClose" class="icon-btn" aria-label="Close menu">×</button>
  </div>

  <nav class="navlist">
    <a href="/search" id="navSearch" class="nav-link">
      <span class="nav-icon">🔎</span>
      <span class="nav-text">Search</span>
    </a>

    <a href="/arena" id="navArena" class="nav-link">
      <span class="nav-icon">⚔️</span>
      <span class="nav-text">Arena</span>
    </a>

    <a href="/arena/vs-bot" id="navVsBot" class="nav-link">
      <span class="nav-icon">🤖</span>
      <span class="nav-text">Battle vs Bot</span>
    </a>

    <a href="/arena/random-vs-player" id="navRandom" class="nav-link active" aria-current="page">
      <span class="nav-icon">🎲</span>
      <span class="nav-text">Random vs Player</span>
    </a>

    <a href="/arena/battle-history" id="navHistory" class="nav-link">
      <span class="nav-icon">📜</span>
      <span class="nav-text">Battle History</span>
    </a>

    <a href="/favorites" id="navFavorites" class="nav-link">
      <span class="nav-icon">★</span>
      <span class="nav-text">Favorites</span>
    </a>
  </nav>
</aside>
<div id="navBackdrop" class="nav-backdrop" hidden></div>

<main class="container">
  <!-- Selection Stage -->
  <section id="selectStage" aria-label="Choose opponent">
    <div class="toolbar">
      <button id="refreshOpponents" class="icon-btn">↻ Refresh</button>
      <p id="quotaInfo" class="status" style="text-align:left"></p>
      <p id="status" class="status"></p>
    </div>
    <div id="opponents" class="users-grid"></div>
  </section>

  <!-- Battle Stage -->
  <section id="battleStage" hidden aria-label="Battle">
    <h3 class="stage-title">Battle</h3>
    <div class="battle-grid">
      <article id="playerCard" class="b-card">
        <div class="b-header">
          <h4 class="b-name"></h4>
          <span class="crown">👑</span>
        </div>
        <div class="b-top">
          <img class="b-img" alt="" />
          <div class="b-types"></div>
        </div>
        <div class="b-stats"></div>
      </article>

      <article id="opponentCard" class="b-card">
        <div class="b-header">
          <h4 class="b-name"></h4>
          <span class="crown">👑</span>
        </div>
        <div class="b-top">
          <img class="b-img" alt="" />
          <div class="b-types"></div>
        </div>
        <div class="b-stats"></div>
      </article>
    </div>

    <p id="scoreLine" class="score-line"></p>

    <div class="controls">
      <button id="startBattle" class="btn">Start Battle</button>
      <button id="backToList" class="icon-btn">← Choose another opponent</button>
      <span id="countdown" class="countdown" aria-live="assertive" aria-atomic="true"></span>
    </div>

    <p id="battleStatus" class="status"></p>
  </section>
</main>
